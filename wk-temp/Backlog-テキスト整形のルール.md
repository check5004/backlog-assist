# Backlog用テキスト整形のルール (Markdown 記法)

## 目次

  * 見出し
  * 引用
  * リスト
  * チェックリスト
  * コードブロック
  * 罫線
  * リンク
  * 斜体文字、太字、打ち消し
  * 画像
  * テーブル
  * 定義リスト
  * 特殊な文字のエスケープ
  * 課題リンク、Wikiページリンク
  * Subversionリビジョンへのリンク
  * Gitリビジョンへのリンク
  * Wiki添付ファイルへのリンク
  * Wiki添付ファイル画像の表示
  * 目次
  * 一般的なMarkdown記法との違い

-----

## 見出し

2種類の見出しの形式をサポートしています。

下行に「=」や「-」を付けた行は見出しとして見なされます。「=」や「-」の数はいくつでも構いません。
「\#」から始まる行も見出しとして見なされます。

**入力文字の例**

```markdown
見出し1
=============

見出し2
-------------

# 見出し1
## 見出し2
### 見出し3
#### 見出し4
##### 見出し5
###### 見出し6
```

-----

## 引用

「\>」から始まる行は引用分として見なされます。

**入力文字の例**

```markdown
> 引用した内容です。
> 引用した内容です。
> 引用した内容です。
```

**結果**

> 引用した内容です。
> 引用した内容です。
> 引用した内容です。

-----

## リスト

「\*」「+」「-」から始まる行は箇条書きとして見なされます。
数字と「ピリオド」から始まる行は番号付きの箇条書きとして見なされます。

  * 記号の後にはスペースが必要です。
  * 各々の階層の中に段落を設けたい場合は4文字のスペースを挿入してください。
  * リストを作成する場合は、本文とリストの間に必ず1行以上の空白行を入れてください。

**入力文字の例**

```markdown
* 箇条書き1

    段落1
* 箇条書き2

    段落2
    * 箇条書き2-1
    * 箇条書き2-2

        段落2-2

1. 箇条書き1
2. 箇条書き2
    1. 箇条書き2-1
        2. 箇条書き2-1-2
    1. 箇条書き2-2
        1. 箇条書き2-2-1
3. 箇条書き3
    1. 箇条書き3-1
```

-----

## チェックリスト

課題詳細の入力画面にて、リスト記法の先頭を「 `[ ]` 」または「 `[x]` 」で開始すると、チェックボックス付きのリストに変換されます。変換されたチェックボックスで、チェックを入れたり外したりすると、課題が更新されます。

  * チェックリスト記法は課題詳細のみで使用できます。
  * チェックリストを作成する場合は、本文とチェックリストの間に必ず1行以上の空白行を入れてください。

**入力文字の例**

```markdown
* [ ] Item-A
* [x] Item-B
    * [ ] Item-B-1
    * [ ] Item-B-2-a
```

-----

## コードブロック

行頭にスペースを4つ挿入するか、「\`\`\`」で該当部分を囲むことでコードブロックとして見なされます。
文中の該当部分のみにコードブロックのスタイルを使用したい場合、「\`」で括ると、インラインコードとして見なされます。

  * コードブロックを作成する場合は、本文とコードブロックの間に必ず1行以上の空白行を入れてください。

**入力文字の例**

```markdown
    package helloworld;
    public class Hello {
      public static void main(String[] args) {
        System.out.println("Hello World");
      }
    }

```

```java
package helloworld;
public class Hello {
  public static void main(String[] args) {
    System.out.println("Hello World");
  }
}
```

`インラインコード`

-----

## 罫線

3つ以上の「-」や「\*」、「\_」だけで構成されている行は罫線となります。

  * 罫線の「`* * *`」と「`********`」を使用する場合は、本文と罫線の間に必ず1行以上の空白行を入れてください。

**入力文字の例**

```markdown
* * *

********

- - -

---------------------------------------

_ _ _
```

**結果**

-----

-----

-----

-----

-----

-----

## リンク

リンク文字列を「`[]`」囲み、その直後に「`()`」で囲んだURLを記述することでリンクと見なされます。
また、Backlogでは前後をスペースで区切られたURLやメールアドレスは自動的にリンクと見なされます。

**入力文字の例**

```markdown
このバグについては、このページ [Backlog](https://backlog.com/ja/) が参考になります。

このバグについては、このページ [https://backlog.com/ja/](https://backlog.com/ja/) が参考になります。

support-ja@backlog.com までメールを送ってください。
```

**結果**

このバグについては、このページ [Backlog](https://backlog.com/ja/) が参考になります。

このバグについては、このページ https://backlog.com/ja/ が参考になります。

support-ja@backlog.com までメールを送ってください。

-----

## 斜体文字、太字、打ち消し

「`*`」や「`_`」によって囲まれた文字列は斜体になります。
「`**`」や「`__`」によって囲まれた文字列は太字になります。
「`~~`」で囲まれた文字は打ち消しになります。

**入力文字の例**

```markdown
これは *斜体文字* です。
これは _斜体文字_ です。
これは **太字** です。
これは __太字__ です。
これは ~~打ち消し~~です。
```

**結果**
これは *斜体文字* です。
これは *斜体文字* です。
これは **太字** です。
これは **太字** です。
これは \~\~打ち消し\~\~です。

-----

## 画像

「`!`」に続き Alt 文字列を「`[]`」囲み、その直後に「`()`」で囲んだURLを記述することで画像と見なされます。

**入力文字の例**

```markdown
![Alt text](/path/to/img.jpg)
```

-----

## テーブル

PHP Markdown Extra ライクなテーブルをサポートしています。

  * 「`|`」は列の区切りに使われます。
  * 空白を入れずに「`|`」入れることでその左のセルを結合することができます。（横方向のみ）
  * 複数の「`-`」はヘッダー部とボディ部の区切りに使われます。
  * コロン「`:`」で寄せ方を指定できます。（`:---` 左寄せ, `:---:` 中央寄せ, `---:` 右寄せ）
  * 最後に「`[]`」で囲んだ文字列はテーブルのタイトルになります。
  * テーブルを作成する場合は、本文とテーブルの間に必ず1行以上の空白行を入れてください。

**入力文字の例**

```markdown
| | 結合 || |ヘッダー１| ヘッダー２|ヘッダー３|
| :------------- | :------------: | -------------: |
|セル1 | 長いセル || |セル2 | 中央寄せ | 右寄せ |
|セル3 | **太字** | *斜体* |
|セル4 | さらに ||
[サンプル]
```

-----

## 定義リスト

PHP Markdown Extra ライクな定義リストをサポートしています。
用語を表す1行に続き、「`:`」で始まる用語の定義を付与することができます。

**入力文字の例**

```markdown
カレー
: 複数の香辛料を使って野菜や肉などのさまざまな食材を味付けした料理。
  国際的に人気のある料理のひとつ。
: フランス北部パ＝ド＝カレー県の都市。

シチュー
: 野菜や肉、魚介類を出汁やソースで煮込んだ煮込み料理
```

-----

## 特殊な文字のエスケープ

「`\`(¥)」を特殊な文字の前に書くことで、Markdown記法と認識されることなく、そのまま文字を出力することが可能です。

**入力文字の例**

```markdown
\*Not Striked\*
\\Home\hoge\hoge2
```

**結果**
\*Not Striked\*
\\Home\\hoge\\hoge2

-----

## Backlog 拡張機能

### 課題リンク、Wikiページリンク

課題キーを直接書くか、あるいは課題キーを二重かっこで囲むことで、他の課題へのリンクを作成できます。

**入力文字の例**

```
これはどうやら[[BLG-104]]と同じ現象のようです。
BLG-87 も合わせて参照してください。
まずは [[Home]] をみてください。
```

### Subversionリビジョンへのリンク

「`#rev(リビジョン番号)`」と記述するとSubversionのリビジョン詳細へのリンクを挿入できます。

**入力文字の例**

```
#rev(11)
```

### Gitリビジョンへのリンク

「`#rev(リポジトリ:リビジョン)`」と記述するとGitのリビジョン詳細へのリンクを挿入できます。

**入力文字の例**

```
#rev(app:abcdefg)
```

### Wiki添付ファイルへのリンク

`#attach(ファイル名:添付ファイルID)` のように記述します。

**入力文字の例**

```
#attach(sample.zip:11)
```

### Wiki添付ファイル画像の表示

`#image(添付ファイルID)` のように記述します。

**入力文字の例**

```
#image(11)
```

### 目次

「`[toc]`」と記述すると見出しに基づいて目次を作成します。

**入力文字の例**

```
[toc]

# ヘッダ1
## ヘッダ1-1
## ヘッダ1-2
# ヘッダ2
## ヘッダ2-1
### ヘッダ2-1-1
```

-----

## 一般的なMarkdown記法との違い

  * **段落と改行**: 一般的なMarkdownでは段落中の改行は無視されますが、Backlogの場合は改行として表示されます。
  * **HTMLタグ**: セキュリティ上の懸念により、Backlogでは文中のHTMLタグは無視されます。
  * **拡張**: Backlogは基本的なMarkdownの記法に加えて、テーブルや定義リストなど独自の拡張記法をサポートしています。